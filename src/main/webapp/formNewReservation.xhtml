<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:shiro="http://shiro.apache.org/tags"
      xmlns:p="http://primefaces.org/ui">

<ui:composition template="Template/template.xhtml">
    <ui:define name="title">#{I18N['reservation.form.new.title']}</ui:define>

    <ui:define name="content">
        <p:growl id="growl" showDetail="true" sticky="true" />

        <h:form id="form" prependId="false">
            <h:head>
                <title>#{I18N['reservation.form.new.title']}</title>
            </h:head>
            <h2 style="text-align:center">#{I18N['reservation.form.new.title']}</h2>

            <p:panelGrid id="newResForm" columns="3" columnClasses="col1Newrec,col2Newrec,col3Newrec">

                <p:outputLabel value="#{I18N['Articles.label.denomination']}"/>
                <h:panelGroup>
                    <p:selectOneMenu id="articleSelect"
                                     value="#{reservationBean.article}"
                                     converter="articleConverter"
                                     required="true"
                                     filter="true" filterMatchMode="contains" filterNormalize="true"
                                     requiredMessage="#{I18N['formulaire.message.required.article']}">
                        <f:selectItems value="#{articleBean.readAll}"
                                       var="a"
                                       itemValue="#{a}"
                                       itemLabel="#{a.nom}" />
                    </p:selectOneMenu>
                </h:panelGroup>
                <h:message for="articleSelect" styleClass="errorMessage"/>

                <p:outputLabel value="#{I18N['utilisateur.label.NumMembre']}"/>
                <p:inputText id="numMembre"
                             value="#{reservationBean.numMembre}"
                             required="true"
                             maxlength="13"
                             requiredMessage="#{I18N['formulaire.message.required.CB']}"
                             validator="codeBarreCliValidator">
                    <f:validateLength minimum="13" maximum="13"/>
                </p:inputText>
                <h:message for="numMembre" styleClass="errorMessage"/>

                <p:outputLabel value=""/>
                <h:outputText styleClass="hint"
                              value="#{I18N['reservation.note.prixCourant']}" />
                <h:outputText value=""/>
            </p:panelGrid>

            <h:panelGroup layout="block" styleClass="button-bar">
                <h:panelGroup styleClass="left-buttons">
                    <p:commandButton icon="pi pi-check-circle"
                                     value="#{I18N['application.button.validate']}"
                                     action="#{reservationBean.newReservation}"
                                     ajax="false"/>
                </h:panelGroup>
                <h:panelGroup styleClass="right-buttons">
                    <p:commandButton icon="pi pi-home"
                                     value="#{I18N['application.button.return']}"
                                     action="tableReservations.xhtml?faces-redirect=true"
                                     immediate="true"/>
                </h:panelGroup>
            </h:panelGroup>
        </h:form>
    </ui:define>
</ui:composition>
</html>
